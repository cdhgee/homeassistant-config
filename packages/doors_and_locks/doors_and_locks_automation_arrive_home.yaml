automation:
- alias: "Doors & locks - arrive home"
  description: "Open the garage door and unlock the front door when anyone arrives home"
  mode: single
  trigger:
  - platform: state
    entity_id: sensor.number_of_people_home
  condition:
  - condition: template
    # Only trigger if the number of people home has increased
    value_template: "{{ (trigger.to_state.state | int) > (trigger.from_state.state | int) }}"
  action:
  - service: cover.open_cover
    target:
      entity_id: cover.garage_door
  - service: lock.unlock
    target:
      entity_id: lock.front_door_lock
