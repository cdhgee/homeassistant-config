alias: "Open up"

sequence:
  - choose:
      - alias: "Open the garage door if it is closed"
        # i.e. only trigger the door to move if it is stationary
        conditions:
          - condition: state
            entity_id: cover.garage_door
            state: closed
        sequence:
          - service: cover.open_cover
            target:
              entity_id: cover.garage_door
  - alias: "Unlock the front door"
    service: lock.unlock
    target:
      entity_id: lock.front_door_lock
  - alias: "Turn lights on if arriving home after dark"
    choose:
      # If arriving home at night, also turn some lights on
      - conditions:
          - condition: numeric_state
            entity_id: sun.sun
            attribute: elevation
            below: 7.5
        sequence:
          - service: scene.turn_on
            target:
              entity_id: scene.arrive_home
